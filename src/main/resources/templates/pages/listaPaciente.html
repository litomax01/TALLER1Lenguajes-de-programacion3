<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Lista de Pacientes</title>
    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body class="bg-gray-100 text-gray-800">

<div class="max-w-7xl mx-auto mt-10 px-4 py-6 bg-white shadow-xl rounded-xl">

    <h1 class="text-3xl font-bold text-center text-blue-800 mb-8">Lista de Pacientes</h1>

    <!-- Formulario de búsqueda -->
    <form th:action="@{/listaPaciente}" method="get" class="mb-8">
        <div class="flex gap-2 items-center">
            <input type="text" name="buscarPaciente" placeholder="Buscar por nombre..."
                   class="flex-1 px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
                   th:value="${buscarPaciente}">
            <button type="submit"
                    class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition font-medium">
                Buscar
            </button>
        </div>
    </form>

    <!-- Tabla de pacientes -->
    <div class="overflow-x-auto rounded-lg shadow-md">
        <table class="min-w-full divide-y divide-gray-200 text-sm text-left bg-white">
            <thead class="bg-blue-50 text-gray-700 uppercase text-xs font-semibold">
            <tr>
                <th class="px-6 py-3">Id</th>
                <th class="px-6 py-3">Cédula</th>
                <th class="px-6 py-3">Nombre</th>
                <th class="px-6 py-3">Apellido</th>
                <th class="px-6 py-3">Edad</th>
                <th class="px-6 py-3">Dirección</th>
                <th class="px-6 py-3">Correo</th>
                <th class="px-6 py-3">Contraseña</th>
                <th class="px-6 py-3 text-center">Acciones</th>
            </tr>
            </thead>
            <tbody class="divide-y divide-gray-100">
            <tr th:each="paciente : ${pacientes}" class="hover:bg-gray-50">
                <td class="px-6 py-4" th:text="${paciente.id}"></td>
                <td class="px-6 py-4" th:text="${paciente.cedula}"></td>
                <td class="px-6 py-4" th:text="${paciente.nombre}"></td>
                <td class="px-6 py-4" th:text="${paciente.apellido}"></td>
                <td class="px-6 py-4" th:text="${paciente.edad}"></td>
                <td class="px-6 py-4" th:text="${paciente.direccion}"></td>
                <td class="px-6 py-4" th:text="${paciente.correo}"></td>
                <td class="px-6 py-4" th:text="${paciente.contrasenia}"></td>
                <td class="px-6 py-4 text-center">
                    <div class="flex justify-center gap-4">
                        <a th:href="@{/editarPaciente/{id}(id=${paciente.id})}"
                           class="text-blue-600 hover:underline font-medium">Actualizar</a>
                        <a th:href="@{/eliminarPaciente/{id}(id=${paciente.id})}"
                           class="text-red-600 hover:underline font-medium"
                           onclick="return confirm('¿Estás seguro de eliminar este paciente?')">Eliminar</a>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <!-- Botón nuevo paciente -->
    <div class="mt-8 flex justify-end">
        <a th:href="@{/registerPaciente}"
           class="px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold">
            + Nuevo Paciente
        </a>
    </div>
</div>

</body>
</html>
