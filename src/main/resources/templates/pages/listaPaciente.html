<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/flowbite@3.1.2/dist/flowbite.min.js"></script>
    <title>Lista de Pacientes</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>

<!-- Contenido -->
<div class="max-w-6xl mx-auto mt-8 px-4">
    <!-- Formulario de búsqueda -->
    <form th:action="@{/listaPaciente}" method="get" class="mb-6">
        <div class="flex gap-2">
            <input type="text" name="buscarPaciente" placeholder="Buscar por nombre..."
                   class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                   th:value="${buscarPaciente}">
            <button type="submit"
                    class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">
                Buscar
            </button>
        </div>
    </form>

    <!-- Tabla de Menús -->
    <div class="overflow-x-auto bg-white rounded-lg shadow">
        <table class="min-w-full text-sm text-left text-gray-700">
            <thead class="text-xs uppercase bg-gray-100">
            <tr>
                <th scope="col" class="px-6 py-3">Id</th>
                <th scope="col" class="px-6 py-3">Cedula</th>
                <th scope="col" class="px-6 py-3">Nombre</th>
                <th scope="col" class="px-6 py-3">Apellido</th>
                <th scope="col" class="px-6 py-3">Edad</th>
                <th scope="col" class="px-6 py-3">Direccion</th>
                <th scope="col" class="px-6 py-3">Correo</th>
                <th scope="col" class="px-6 py-3">Contraseña</th>
                <th scope="col" class="px-6 py-3 text-center">Acciones</th>
            </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
            <tr th:each="paciente : ${pacientes}" class="hover:bg-gray-50">
                <td class="px-6 py-4" th:text="${paciente.id}"></td>
                <td class="px-6 py-4" th:text="${paciente.cedula}"></td>
                <td class="px-6 py-4" th:text="${paciente.nombre}"></td>
                <td class="px-6 py-4" th:text="${paciente.apellido}"></td>
                <td class="px-6 py-4" th:text="${paciente.edad}"></td>
                <td class="px-6 py-4" th:text="${paciente.direccion}"></td>
                <td class="px-6 py-4" th:text="${paciente.correo}"></td>
                <td class="px-6 py-4" th:text="${paciente.contrasenia}"></td>
                <td class="px-6 py-4 text-center flex gap-2 justify-center">
                    <a th:href="@{/editarPaciente/{id}(id=${paciente.id})}"
                       class="text-blue-600 hover:underline font-medium">Actualizar</a>
                    <a th:href="@{/eliminarPaciente/{id}(id=${paciente.id})}"
                       class="text-red-600 hover:underline font-medium"
                       onclick="return confirm('¿Estás seguro de eliminar este paciente?')">Eliminar</a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="mt-6 flex justify-end">
        <a th:href="@{/registerPaciente}"
           class="px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition">
            Nuevo Paciente
        </a>
    </div>
</div>

</body>
</html>